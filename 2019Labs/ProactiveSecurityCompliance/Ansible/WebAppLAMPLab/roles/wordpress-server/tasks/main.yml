---
- set_fact:
    webhostname: "{{ ansible_nodename | default('192.168.0.100') }}"
  when: my_purpose == 'web'

- set_fact:
    dbhostname: "{{ ansible_default_ipv4.address }}"
  when: my_purpose == 'db'

- include: install/db-main.yml
  when: my_purpose == 'db' and main_purpose != 'reset'

- include: install/web-main.yml
  when: my_purpose == 'web' and main_purpose != 'reset'

- include: catsploit.yml
  when: my_purpose == 'web' and main_purpose != 'reset'

- include: catsploit-tools.yml
  when: my_purpose == 'jump' and main_purpose != 'reset'

- include: reset.yml
  when: main_purpose == 'reset'


